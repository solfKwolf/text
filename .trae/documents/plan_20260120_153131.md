## 实现步骤

### 1. 修改 Vite 配置，注入构建信息

在 `vite.config.js` 中添加 git 提交信息和构建时间的注入配置：

- 使用 `child_process` 模块运行 git 命令获取最新提交哈希和时间
- 通过 Vite 的 `define` 选项将这些信息注入为全局常量
- 处理 git 命令可能失败的情况，提供默认值

### 2. 添加页面底部版本号展示

在 `App.vue` 中添加版本号展示：

- 在模板中添加 `footer` 标签，放置在 `main` 标签之后
- 显示注入的 git 提交哈希、提交时间和构建时间
- 设计简洁的样式，确保版本号展示在页面底部

### 3. 样式设计

为版本号设计合适的样式：

- 设置字体大小为 12px，颜色为灰色
- 添加适当的内边距和外边距
- 确保在不同屏幕尺寸下都能正常显示

## 技术要点

- **Vite 构建注入**：使用 Vite 的 `define` 选项在构建时注入常量
- **Git 命令调用**：使用 `child_process.execSync` 运行 git 命令获取提交信息
- **Vue 组件修改**：添加 footer 标签和版本号展示逻辑
- **错误处理**：处理 git 命令可能失败的情况

## 预期效果

- 打包时自动生成包含 git 提交信息和构建时间的版本号
- 版本号清晰展示在页面底部
- 不影响页面其他功能
- 支持开发环境和生产环境

## 文件修改

1. **`vite.config.js`**：添加 git 信息注入配置
2. **`src/App.vue`**：添加 footer 和版本号展示

## 实现细节

### vite.config.js 修改

```javascript
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import { execSync } from 'child_process';

// 获取 git 提交信息
try {
  const commitHash = execSync('git rev-parse --short HEAD').toString().trim();
  const commitDate = execSync('git log -1 --format=%ci').toString().trim();
  
  export default defineConfig({
    plugins: [vue()],
    server: {
      host: '0.0.0.0',
    },
    build: {
      outDir: 'docs'
    },
    base: './',
    define: {
      '__COMMIT_HASH__': JSON.stringify(commitHash),
      '__COMMIT_DATE__': JSON.stringify(commitDate),
      '__BUILD_TIME__': JSON.stringify(new Date().toISOString())
    }
  });
} catch (error) {
  // 处理 git 命令失败情况
  export default defineConfig({
    plugins: [vue()],
    server: {
      host: '0.0.0.0',
    },
    build: {
      outDir: 'docs'
    },
    base: './',
    define: {
      '__COMMIT_HASH__': JSON.stringify('unknown'),
      '__COMMIT_DATE__': JSON.stringify('unknown'),
      '__BUILD_TIME__': JSON.stringify(new Date().toISOString())
    }
  });
}
```

### App.vue 修改

在模板中添加 footer：

```vue
<template>
  <div class="app">
    <!-- 现有 header 和 main 内容 -->
    <footer class="app-footer">
      <p class="version-info">
        版本: {{ version }}
      </p>
    </footer>
  </div>
</template>

<script setup>
// 导入现有逻辑

// 使用注入的常量
const version = `commit: ${__COMMIT_HASH__} | ${new Date(__COMMIT_DATE__).toLocaleString()} | built: ${new Date(__BUILD_TIME__).toLocaleString()}`;
</script>

<style scoped>
/* 现有样式 */

.app-footer {
  margin-top: 30px;
  padding-top: 15px;
  border-top: 1px solid #e0e0e0;
  text-align: center;
  font-size: 12px;
  color: #999;
}
</style>
```

## 测试和验证

- 运行 `npm run build` 生成生产版本
- 部署到服务器或本地预览，检查版本号是否正确显示
- 确认版本号包含 git 提交哈希、提交时间和构建时间

## 兼容性考虑

- 确保在没有 git 环境的情况下也能正常构建
- 处理不同时区的时间显示
- 确保样式在各种设备上都能正常显示