# 修复夜间模式toggleTheme函数缺失问题

## 问题分析
- 模板中添加了主题切换按钮，调用了toggleTheme函数
- 但在script部分没有定义toggleTheme函数
- 缺少isDarkMode状态变量
- 缺少主题初始化和持久化逻辑

## 修复步骤

### 1. 添加主题状态变量
在App.vue的script部分添加isDarkMode状态变量：
```javascript
// 主题管理
const isDarkMode = ref(false);
```

### 2. 实现toggleTheme函数
添加toggleTheme函数，用于切换主题并保存到localStorage：
```javascript
// 切换主题
function toggleTheme() {
  isDarkMode.value = !isDarkMode.value;
  // 保存主题设置到localStorage
  localStorage.setItem('theme', isDarkMode.value ? 'dark' : 'light');
}
```

### 3. 初始化主题
在onMounted钩子中初始化主题：
```javascript
// 初始化主题
const savedTheme = localStorage.getItem('theme');
isDarkMode.value = savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches);
```

### 4. 确保导入ref
确保ref已经从vue导入，用于创建响应式状态

## 预期效果
- 主题切换按钮能正常工作
- 点击按钮切换正常/夜间模式
- 主题设置持久化保存
- 支持系统主题偏好检测

## 实现难度
简单，只需要添加几个变量和函数，无复杂逻辑